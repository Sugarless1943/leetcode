<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>

  /**
   * 字符串相乘（效率）
   * "401716832807512840963"
   * "167141802233061013023557397451289113296441069"
   * @param num1
   * @param num2
   */

  var multiply = function(num1, num2) {
    if(num1 == '0' || num2 == '0'){
      return '0'
    }else {
      num2 = num2.split('')

      let res = []
      let num = 0
      for(let i=num2.length-1;i>=0;i--){
        let str = multiplyOne(num1,num2[i])
        for(let j=0;j<num;j++){
          str += '0'
        }
        num++
        res.push(str)
      }

      let h = '0'
      for(let i=0;i<res.length;i++){
        h = strAdd(h,res[i])
      }

      return h

      //一位数乘法
      function multiplyOne(n1,n2) {
        if(n1 && n2) {
          let res = []
          let str1 = n1.split('').map(item => item - 0)
          let num = 0
          for(let i=str1.length-1;i>=0;i--){
            res.push((str1[i] * n2)*(Math.pow(10,num)) + '')
            num++
          }

          let h = '0'
          for(let i=0;i<res.length;i++){
            h = strAdd(h,res[i])
          }
          return h
        }

        return '0'
      }

      //数组字符串相加
      function strAdd(s1,s2) {
        let n1 = s1.split('').map(item => item-0).reverse()
        let n2 = s2.split('').map(item => item-0).reverse()
        let len = n1.length > n2.length ? n1.length : n2.length
        let c = s1.length >= s2.length ? s1.length - s2.length : s2.length - s1.length
        for(let i=0;i<c;i++){
          n1.length > n2.length ? n2.push(0) : n1.push(0)
        }

        let res = []
        for(let i=0;i<len;i++) {
          res[i] = res[i] ? res[i] : 0
          let num = n1[i] + n2[i] + res[i]

          if(num < 10){
            res[i] = num
          }else {
            res[i] = num - 10
            res[i+1] = 1
          }
        }

        return res.reverse().join('')
      }
    }
  };

  console.log(multiply('100','100'))

</script>
</html>
